let execEventEmbed=()=>{if(window.location.href.includes("checkouts")||window.location.href.includes("orders")){if(!window?.Shopify?.checkout)try{var hash=window.location.hash;if(!hash)return;var hashArray=hash.split("&");let phone,orderStatusUrl,orderName,email,orderId;if(hashArray.forEach(hash=>{hash?.includes("order-status-url")&&(orderStatusUrl=hash.split("=")?.slice(1).join("=")),hash?.includes("order-name")&&(orderName=hash.split("=")?.[1]),hash?.includes("phone")&&(phone=hash.split("=")?.[1]),hash?.includes("email")&&(email=hash.split("=")?.[1]),hash.includes("order-id")&&(orderId=hash.split("=")?.[1])}),orderStatusUrl&&orderName&&(email||phone)){orderStatusUrl?.split("key=")?.[1]?.split("&")?.[0];var loader,spinner,keyframes,payload={...email&&{email:email},...phone&&{phone:parseInt(phone)},order_number:orderName},urlSearchParams=new URLSearchParams(payload);orderStatusUrl=orderStatusUrl.split("?")?.[0];try{document.getElementById("zecpe-order-status-loader")||((loader=document.createElement("div")).id="zecpe-order-status-loader",loader.style.position="fixed",loader.style.display="flex",loader.style.justifyContent="center",loader.style.alignItems="center",loader.style.width="100%",loader.style.height="100%",loader.style.top="0",loader.style.left="0",loader.style.backgroundColor="rgba(255, 255, 255)",loader.style.zIndex="999",(spinner=document.createElement("div")).style.width="60px",spinner.style.height="60px",spinner.style.border="8px solid #808080",spinner.style.borderRadius="50%",spinner.style.borderLeftColor="transparent",spinner.style.animation="spin 1s linear infinite",loader.appendChild(spinner),document.body.appendChild(loader),(keyframes=document.createElement("style")).type="text/css",keyframes.innerHTML="@keyframes spin { from {transform:rotate(0deg);} to {transform:rotate(360deg);}}",document.head.appendChild(keyframes))}catch(err){console.log("Error in showing loader: "+err.message)}fetch(orderStatusUrl,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:urlSearchParams,redirect:"follow"}).then(res=>{if(res?.redirected){let redirectUrl=res.url;orderId&&(redirectUrl+="#order-id="+orderId),window.location.replace(redirectUrl)}}).catch(err=>{console.log("Error in getting authenticated order status page url: "+err?.message),hideLoader()})}else orderId&&window?.Shopify&&(window.Shopify.checkout={order_id:parseInt(orderId)},hideLoader())}catch(err){console.log("Error in getting authenticated order status page url: "+err?.message),hideLoader()}window?.Shopify?.checkout&&((hash=document.createElement("script")).src="https://cdn.zecpe.com/payModal/events.js",document.getElementById("zecpe-events-script")||(hash.id="zecpe-events-script",hash.async=!1,(hashArray=document.head||document.getElementsByTagName("head")[0]).insertBefore(hash,hashArray.firstChild)))}function hideLoader(){var loader=document.getElementById("zecpe-order-status-loader");loader&&loader.remove()}};execEventEmbed(),window.addEventListener("hashchange",execEventEmbed);