const imageElement=document.querySelector(".product-detail-image-container img");imageElement?.addEventListener("click",()=>openFullscreen(imageElement));function openFullscreen(imgElement){const fullscreenImage=imgElement.cloneNode();fullscreenImage.classList.add("fullscreen"),document.body.appendChild(fullscreenImage),fullscreenImage.addEventListener("click",()=>fullscreenImage.remove());let scale=1,initialDistance=null,lastTouchX=0,lastTouchY=0,offsetX=0,offsetY=0,isDragging=!1;function onTouchMove(event){if(event.touches.length===2){const touch1=event.touches[0],touch2=event.touches[1],currentDistance=Math.hypot(touch2.pageX-touch1.pageX,touch2.pageY-touch1.pageY);initialDistance===null?initialDistance=currentDistance:(scale=Math.max(1,currentDistance/initialDistance),updateTransform())}else if(event.touches.length===1&&scale>1){const touch=event.touches[0];if(isDragging){const deltaX=touch.pageX-lastTouchX,deltaY=touch.pageY-lastTouchY;offsetX+=deltaX,offsetY+=deltaY,clampPosition(),updateTransform()}lastTouchX=touch.pageX,lastTouchY=touch.pageY,isDragging=!0}}function onTouchEnd(){initialDistance=null,isDragging=!1}function updateTransform(){fullscreenImage.style.transform=`scale(${scale}) translate(${offsetX/scale}px, ${offsetY/scale}px)`}function clampPosition(){const imgWidth=fullscreenImage.offsetWidth*scale,imgHeight=fullscreenImage.offsetHeight*scale,viewportWidth=window.innerWidth,viewportHeight=window.innerHeight,maxOffsetX=Math.max(0,(imgWidth-viewportWidth)/2),maxOffsetY=Math.max(0,(imgHeight-viewportHeight)/2);offsetX=Math.min(maxOffsetX,Math.max(-maxOffsetX,offsetX)),offsetY=Math.min(maxOffsetY,Math.max(-maxOffsetY,offsetY))}fullscreenImage.addEventListener("touchmove",onTouchMove),fullscreenImage.addEventListener("touchend",onTouchEnd)}function showCartNotification(){const notification=document.getElementById("cart-notification"),goToCartbtn=document.querySelector("#go-to-cart-btn"),cartClosebtn=document.querySelector("#mini-cart__close"),miniCart=document.querySelector("#t4s-mini_cart"),body=document.querySelector("body");notification.classList.add("show"),setTimeout(()=>{notification.classList.remove("show")},3e3),goToCartbtn?.addEventListener("click",function(){console.log("goto cart"),miniCart.setAttribute("aria-hidden","false")}),cartClosebtn?.addEventListener("click",function(){console.log("goto cart"),miniCart.setAttribute("aria-hidden","true"),body.classList.remove("t4s-lock-scroll")})}const submitButton=document.querySelector(".t4s-product-form__submit");submitButton?.addEventListener("click",function(e){if(!submitButton?.classList.contains("pr-sold-out")&&submitButton?.getAttribute("aria-disabled")==="true"){const rect=document.querySelector(".t4s-product-form__variants").getBoundingClientRect(),inViewport=rect.top>=0&&rect.left>=0&&rect.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&rect.right<=(window.innerWidth||document.documentElement.clientWidth),scrollOffset=window.pageYOffset+rect.top-(window.innerHeight-180);window.scrollTo({top:scrollOffset,behavior:"smooth"})}});let PDPsimilarButton=document.querySelector(".similar-product-button");PDPsimilarButton&&viewSimilarProducts();function viewSimilarProducts(){const viewSimilarContent=document.querySelector(".similar-product-content"),overlay=document.querySelector(".t4s-close-overlay"),body=document.querySelector("body"),closeButton=document.querySelector(".similar-product-close-btn");document.querySelectorAll(".similar-product-button").forEach(button=>button.addEventListener("click",popupOpen)),overlay.addEventListener("click",popupClose),closeButton.addEventListener("click",e=>{e.stopPropagation(),popupClose()});function popupOpen(){viewSimilarContent.classList.add("content--visible"),overlay.classList.add("is--visible"),body.classList.add("t4s-lock-scroll")}function popupClose(){viewSimilarContent.classList.remove("content--visible"),overlay.classList.remove("is--visible"),body.classList.remove("t4s-lock-scroll")}}document.getElementById("t4s-form-webEngage")?.addEventListener("submit",function(event){event.preventDefault();let userDetails={email:document.querySelector('input[name="email"]').value};webengageOnReady(function(){webengage.track("Footer Newsletter Subscribed",userDetails)}),document.querySelector(".t4s-newsletter__success").style.display="block"});function webengageOnReady(cb){typeof webengage>"u"||typeof webengage.onReady!="function"?setTimeout(function(){webengageOnReady(cb)},100):webengage.onReady(cb)}window.wishlistCallback=function(object){if(object.event==="ADD"){let webengageOnReady3=function(cb){typeof webengage===void 0||typeof webengage.onReady!="function"?setTimeout(function(){webengageOnReady3(cb)},100):webengage.onReady(cb)};var webengageOnReady2=webengageOnReady3;webengageOnReady3(function(){webengage.track("Add to Wishlist",object)})}},jQuery_T4NT(document).ready(function($){$(document).on("variant:changed",function(evt){})});
//# sourceMappingURL=/cdn/shop/t/558/assets/custom.js.map?v=148368757615503407141732780985
